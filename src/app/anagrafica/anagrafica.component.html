<form [formGroup]="anagraficaForm" (ngSubmit)="submitAnagraficaForm()">
  <div>
    <label for="nome">Nome</label>
    <input
      type="text"
      id="nome"
      formControlName="nome"
      required
      minlength="3"
      maxlength="30"
    />
    <div
      *ngIf="
        anagraficaForm.get('nome')?.invalid &&
        (anagraficaForm.get('nome')?.dirty ||
          anagraficaForm.get('nome')?.touched)
      "
    >
      <div *ngIf="anagraficaForm.get('nome')?.errors?.['required']">
        Nome is required.
      </div>
      <div *ngIf="anagraficaForm.get('nome')?.errors?.['minlength']">
        Nome must be at least 3 characters long.
      </div>
      <div *ngIf="anagraficaForm.get('nome')?.errors?.['maxlength']">
        Nome cannot exceed 30 characters.
      </div>
    </div>
  </div>

  <div>
    <label for="cognome">Cognome</label>
    <input
      type="text"
      id="cognome"
      formControlName="cognome"
      required
      minlength="3"
      maxlength="75"
    />
    <div
      *ngIf="
        anagraficaForm.get('cognome')?.invalid &&
        (anagraficaForm.get('cognome')?.dirty ||
          anagraficaForm.get('cognome')?.touched)
      "
    >
      <div *ngIf="anagraficaForm.get('cognome')?.errors?.['required']">
        Cognome is required.
      </div>
      <div *ngIf="anagraficaForm.get('cognome')?.errors?.['minlength']">
        Cognome must be at least 3 characters long.
      </div>
      <div *ngIf="anagraficaForm.get('cognome')?.errors?.['maxlength']">
        Cognome cannot exceed 75 characters.
      </div>
    </div>
  </div>

  <div>
    <label for="dataNascita">Data di nascita</label>
    <input
      type="date"
      id="dataNascita"
      formControlName="dataNascita"
      required
    />
    <div
      *ngIf="
        anagraficaForm.get('dataNascita')?.invalid &&
        (anagraficaForm.get('dataNascita')?.dirty ||
          anagraficaForm.get('dataNascita')?.touched)
      "
    >
      <div *ngIf="anagraficaForm.get('dataNascita')?.errors?.['required']">
        Data di nascita is required.
      </div>
    </div>
  </div>

  <div>
    <label for="luogoNascita">Luogo di nascita</label>
    <input
      type="text"
      id="luogoNascita"
      formControlName="luogoNascita"
      required
      minlength="3"
    />
    <div
      *ngIf="
        anagraficaForm.get('luogoNascita')?.invalid &&
        (anagraficaForm.get('luogoNascita')?.dirty ||
          anagraficaForm.get('luogoNascita')?.touched)
      "
    >
      <div *ngIf="anagraficaForm.get('luogoNascita')?.errors?.['required']">
        Luogo di nascita is required.
      </div>
      <div *ngIf="anagraficaForm.get('luogoNascita')?.errors?.['minlength']">
        Luogo di nascita must be at least 3 characters long.
      </div>
    </div>
  </div>

  <div>
    <label for="codiceFiscale">Codice fiscale</label>
    <input
      type="text"
      id="codiceFiscale"
      formControlName="codiceFiscale"
      required
      pattern="[A-Z]{6}\d{2}[A-Z]\d{2}[A-Z]\d{3}[A-Z]"
    />
    <div
      *ngIf="
        anagraficaForm.get('codiceFiscale')?.invalid &&
        (anagraficaForm.get('codiceFiscale')?.dirty ||
          anagraficaForm.get('codiceFiscale')?.touched)
      "
    >
      <div *ngIf="anagraficaForm.get('codiceFiscale')?.errors?.['required']">
        Codice fiscale is required.
      </div>
      <div *ngIf="anagraficaForm.get('codiceFiscale')?.errors?.['pattern']">
        Invalid codice fiscale format.
      </div>
    </div>
  </div>

  <div>
    <label for="sesso">Sesso</label>
    <select id="sesso" formControlName="sesso" required>
      <option value="">Select</option>
      <option value="M">Male</option>
      <option value="F">Female</option>
    </select>
    <div
      *ngIf="
        anagraficaForm.get('sesso')?.invalid &&
        (anagraficaForm.get('sesso')?.dirty ||
          anagraficaForm.get('sesso')?.touched)
      "
    >
      <div *ngIf="anagraficaForm.get('sesso')?.errors?.['required']">
        Sesso is required.
      </div>
    </div>
  </div>

  <div>
    <label for="altezza">Altezza</label>
    <input type="number" id="altezza" formControlName="altezza" />
  </div>

  <div>
    <label for="nazionalita">Nazionalità</label>
    <input
      type="text"
      id="nazionalita"
      formControlName="nazionalita"
      required
    />
    <div
      *ngIf="
        anagraficaForm.get('nazionalita')?.invalid &&
        (anagraficaForm.get('nazionalita')?.dirty ||
          anagraficaForm.get('nazionalita')?.touched)
      "
    >
      <div *ngIf="anagraficaForm.get('nazionalita')?.errors?.['required']">
        Nazionalità is required.
      </div>
    </div>
  </div>

  <button type="submit" [disabled]="anagraficaForm.invalid">Submit</button>
</form>
